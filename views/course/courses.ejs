<%- include('../partials/header') %>

<div class="container mt-4">
    <h2 class="mb-4">Courses</h2>

    <% if (user && user.role === 'admin') { %>
        <a href="/courses/add" class="btn btn-primary mb-3">Add New Course</a>
    <% } %>

    <div class="row">
        <% courses.forEach(course => { %>
            <div class="col-md-4">
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title"><%= course.course_name %></h5>
                        <p class="card-text"><strong>Course ID:</strong> <%= course.course_id %></p>
                        <p class="card-text"><strong>Credits:</strong> <%= course.credits %></p>
                        <p class="card-text"><strong>Branch:</strong> <%= course.branch %></p>

                        <a href="/courses/<%= course.course_id %>" class="btn btn-info">View Course</a>

                        <% if (user && user.role === 'admin') { %>
                            <a href="/courses/<%= course.course_id %>/edit" class="btn btn-warning">Edit</a>
                            <a href="/courses/<%= course.course_id %>/delete" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this course?')">Delete</a>
                        <% } %>
                    </div>
                </div>
            </div>
        <% }); %>
    </div>
</div>

<%- include('../partials/footer') %>
